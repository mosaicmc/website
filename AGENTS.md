# Repository Guidelines

## Project Structure & Module Organization
Source lives in `src/`, with `components/` for shared UI, `pages/` for route-level views, `contexts/` for providers, `i18n/` for translation data, and `lib/` utilities. Static assets sit in `public/` while editorial content and briefs live under `docs/` and `QA/`. Automation and ingestion tooling is grouped in `scripts/`, and browser assets generated by CI land in `dist/`. Test fixtures and end-to-end specs reside in `tests/` and `test-results/`; keep heavy media in `media/` to avoid bloating `src/`.

## Build, Test, and Development Commands
Use `npm install` once to hydrate dependencies (Node 20+). `npm run dev` starts the Vite dev server on `http://localhost:5173`. `npm run build` emits a production bundle into `dist/`, and `npm run preview` serves that bundle for smoke checks. Run `npm run lint` before pushing to catch ESLint and TypeScript issues. `npm run test` executes the Vitest unit suite, while `npm run test:ui` runs Playwright E2E checks. Data helpers include `npm run scrape:reviews` (or the `:xpath`/`:custom` variants) and `npm run ingest:testimonials:md` for converting curated Markdown into JSON.

## Coding Style & Naming Conventions
This codebase follows ESLint with the TypeScript + React config defined in `eslint.config.js`; fix violations or run `npm run lint -- --fix`. Prefer functional React components with PascalCase filenames (`HeroBanner.tsx`), hooks in camelCase (`useOrgChart`). Keep Tailwind classes ordered by layout → color for readability, and colocate component styles via utility classes rather than custom CSS. Use TypeScript types/interfaces in `types.d.ts` or near usage, and place shared helper functions in `src/lib/`.

## Testing Guidelines
Vitest covers render logic and utilities; colocate spec files as `<Component>.test.tsx` or under `tests/unit/`. Playwright specs belong in `tests/e2e/` and should rely on `npm run preview` in CI. Maintain existing coverage by asserting critical copy, navigation, and language-switch flows. Capture new fixtures in `test-results/` but avoid committing large videos unless debugging a failure.

## Commit & Pull Request Guidelines
Recent history mixes scoped prefixes (`feat:`, `fix:`, `style:`) with descriptive summaries—follow that convention and keep subject lines under ~70 chars. One feature or fix per commit. When opening a PR, describe the motivation, list testing steps (lint, unit, UI), and link Mosaic ticket IDs. Include screenshots or GIFs for visual changes and reference any updated scripts or translations so reviewers can verify localized content.

## Security & Configuration Tips
No secrets are required locally; keep any `.env` additions in `.env.local` and never commit them. Scripts that touch Google data (scrapers, verifiers) should be run with anonymized accounts. Node and npm versions are pinned via `package.json` engines and `.nvmrc`; run `nvm use` before installing to avoid mismatched lockfiles.
